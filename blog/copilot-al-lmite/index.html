<!DOCTYPE html><html lang="es"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"><meta property="og:title" content="Copilot al l铆mite"><meta name="twitter:title" content="Copilot al l铆mite"><!-- <meta property="og:url" content={canonicalHref} /> --><meta name="description" content="Tags: #tech"><meta property="og:description" content="Tags: #tech"><meta name="twitter:description" content="Tags: #tech"><meta property="og:image" content="https://media.giphy.com/media/7rJE4vH3ItKDu/giphy.gif"><meta name="twitter:image" content="https://media.giphy.com/media/7rJE4vH3ItKDu/giphy.gif"><meta name="generator" content="Astro v5.16.9"><title>Copilot al l铆mite</title><link rel="icon" type="image/svg+xml" href="/favicon.svg"><!-- <link rel="canonical" href={canonicalHref} /> --><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><script type="module" src="/_astro/ClientRouter.astro_astro_type_script_index_0_lang.CDGfc0hd.js"></script><link rel="stylesheet" href="/_astro/ants-test.DJx1_YBF.css">
<style>pre code.hljs{display:block;overflow-x:auto;padding:1em}code.hljs{padding:3px 5px}.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta .hljs-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-built_in,.hljs-class .hljs-title,.hljs-title.class_{color:#e6c07b}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}
</style></head> <body> <img class="absolute w-0 h-0" src="https://librecounter.org/counter.svg" loading="eager" decoding="async" referrerpolicy="unsafe-url" id="libre-counter"> <div class="absolute w-0 h-0" data-astro-transition-persist="astro-bfx3ztbg-1"> <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).load=e;window.dispatchEvent(new Event("astro:load"));})();</script><script>(()=>{var A=Object.defineProperty;var g=(i,o,a)=>o in i?A(i,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[o]=a;var d=(i,o,a)=>g(i,typeof o!="symbol"?o+"":o,a);{let i={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t),11:t=>1/0*t},o=t=>{let[l,e]=t;return l in i?i[l](e):void 0},a=t=>t.map(o),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([l,e])=>[l,o(e)]));class y extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var b;if(!this.hydrator||!this.isConnected)return;let e=(b=this.parentElement)==null?void 0:b.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let c=this.querySelectorAll("astro-slot"),n={},h=this.querySelectorAll("template[data-astro-template]");for(let r of h){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(let r of c){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("name")||"default"]=r.innerHTML)}let p;try{p=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(r){let s=this.getAttribute("component-url")||"<unknown>",v=this.getAttribute("component-export");throw v&&(s+=` (export ${v})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),r),r}let u;await this.hydrator(this)(this.Component,p,n,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),c.disconnect(),this.childrenConnectedCallback()},c=new MutationObserver(()=>{var n;((n=this.lastChild)==null?void 0:n.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});c.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),c=this.getAttribute("client");if(Astro[c]===void 0){window.addEventListener(`astro:${c}`,()=>this.start(),{once:!0});return}try{await Astro[c](async()=>{let n=this.getAttribute("renderer-url"),[h,{default:p}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),u=this.getAttribute("component-export")||"default";if(!u.includes("."))this.Component=h[u];else{this.Component=h;for(let f of u.split("."))this.Component=this.Component[f]}return this.hydrator=p,this.hydrate},e,this)}catch(n){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,n)}}attributeChangedCallback(){this.hydrate()}}d(y,"observedAttributes",["props"]),customElements.get("astro-island")||customElements.define("astro-island",y)}})();</script><astro-island uid="1EHrjx" prefix="s1" component-url="/_astro/index.0BedYp8Q.js" component-export="default" renderer-url="/_astro/client.BZ2AD0De.js" props="{}" ssr client="load" opts="{&quot;name&quot;:&quot;OnekoStack&quot;,&quot;value&quot;:true}" await-children><!--[--><!--]--><!--astro:end--></astro-island> </div> <p class="text-sm font-mono px-4 pt-2 pb-8 text-neutral-400 leading-5 break-all max-sm:text-xs max-sm:pb-4 max-sm:px-2"> <a href="/" class="hover:text-white">Home</a>  / <a href="/blog" class="hover:text-white">blog</a>  / <a href="/blog/copilot-al-lmite" class="hover:text-white">copilot-al-lmite</a>  </p>  <div class="font-extralight font-mono flex flex-col w-full h-full print:max-w-full mx-auto max-w-3xl">  <astro-island uid="1uKwwA" prefix="s0" component-url="/_astro/PostView.Cg2cuyrR.js" component-export="default" renderer-url="/_astro/client.BZ2AD0De.js" props="{&quot;post&quot;:[0,{&quot;title&quot;:[0,&quot;Copilot al l铆mite&quot;],&quot;categories&quot;:[1,[[0,&quot;tech&quot;]]],&quot;creationDate&quot;:[3,&quot;2024-02-26T23:21:13.880Z&quot;],&quot;lastUpdate&quot;:[3,&quot;2024-03-23T02:00:39.940Z&quot;],&quot;isPinned&quot;:[0,false],&quot;container&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;MarkdownBlock&quot;],&quot;text&quot;:[0,&quot;Acabo de recibir un recibo m谩s de Github Copilot ($10/mes ). Siempre digo que lo voy a desactivar porque no lo uso mucho, pero, su comodidad hace que me olvide...\n\n&quot;]}],[0,{&quot;type&quot;:[0,&quot;GiphyBlock&quot;],&quot;text&quot;:[0,&quot;7rJE4vH3ItKDu$%&amp;Copilot&quot;]}],[0,{&quot;type&quot;:[0,&quot;MarkdownBlock&quot;],&quot;text&quot;:[0,&quot;*GitHub Copilot es una herramienta de programaci贸n que utiliza inteligencia artificial para sugerir y completar c贸digo autom谩ticamente.*&quot;]}],[0,{&quot;type&quot;:[0,&quot;MarkdownBlock&quot;],&quot;text&quot;:[0,&quot;Hoy vengo a poner a prueba sus poderes. Puntualmente en la refactorizaci贸n de 612 l铆neas de c贸digo escritas en React con JavaScript, para ser transformado en un componente funcional con TypeScript.\n\n&quot;]}],[0,{&quot;type&quot;:[0,&quot;MarkdownBlock&quot;],&quot;text&quot;:[0,&quot;*Spoiler: Termina con 113 l铆neas de c贸digo.*&quot;]}],[0,{&quot;type&quot;:[0,&quot;MarkdownBlock&quot;],&quot;text&quot;:[0,&quot;El c贸digo no es presumible (code smell, redundancia, class components ぎ) y mi trabajo es revivirlo. Podr铆a decirse que s茅 muy bien como repararlo (yo lo escrib铆 ぁ). Sin embargo, ya que me duele mucho pagar por Copilot, lo dejar茅 en sus manos.&quot;]}],[0,{&quot;type&quot;:[0,&quot;MarkdownBlock&quot;],&quot;text&quot;:[0,&quot;# C贸digo deprecado (612 l铆neas de c贸digo)&quot;]}],[0,{&quot;type&quot;:[0,&quot;MarkdownBlock&quot;],&quot;text&quot;:[0,&quot;En el c贸digo se pueden encontrar cosas como:\n```ts\nfor (let product of customer.products) {\n  let brand = product.brand;\n  let option = document.createElement(\&quot;option\&quot;);\n  option.appendChild(document.createTextNode(brand));\n  option.setAttribute(\&quot;brand\&quot;, brand);\n  select_product.appendChild(option);\n  this.brands[brand] = idx;\n  idx++;\n}\n```&quot;]}],[0,{&quot;type&quot;:[0,&quot;MarkdownBlock&quot;],&quot;text&quot;:[0,&quot;No luce mal, fuera de que con react no tiene sentido hacer las cosas de esta forma. Hay muchas malas decisiones tomadas, por ejemplo, que solo se consideran happy paths.&quot;]}],[0,{&quot;type&quot;:[0,&quot;MarkdownBlock&quot;],&quot;text&quot;:[0,&quot;Se pueden encontrar atrocidades como:\n```ts\nthis.statusBar.current.style.display = \&quot;block\&quot;;\nthis.statusBar.current.innerText = \&quot;Cargando datos\&quot;;\n```&quot;]}],[0,{&quot;type&quot;:[0,&quot;MarkdownBlock&quot;],&quot;text&quot;:[0,&quot;O estas (esto lo hace en la funci贸n de un componente):\n```ts\nconst customer = await this.db.collection(\&quot;customer\&quot;).findOne({\n  stitch_td_uid: this.client.auth.user.id,\n});\n```&quot;]}],[0,{&quot;type&quot;:[0,&quot;MarkdownBlock&quot;],&quot;text&quot;:[0,&quot;5mentarios:\n```ts\nfor (let j = i + 1; j &lt; indexes.length; j++) {\n  if (idx &lt; indexes[j]) {\n    indexes[j]--;\n  }\n}\n```&quot;]}],[0,{&quot;type&quot;:[0,&quot;MarkdownBlock&quot;],&quot;text&quot;:[0,&quot;# Copilot&quot;]}],[0,{&quot;type&quot;:[0,&quot;MarkdownBlock&quot;],&quot;text&quot;:[0,&quot;Prompt: *\&quot;Refactor this class component written in jsx to a functional component with typescript. Rename as many variables as you can to cammelcase. If you see that updates are made to the DOM with the document object, transform it into the equivalent using React.\&quot;*&quot;]}],[0,{&quot;type&quot;:[0,&quot;MarkdownBlock&quot;],&quot;text&quot;:[0,&quot;# Resultados (276 l铆neas de c贸digo )&quot;]}],[0,{&quot;type&quot;:[0,&quot;MarkdownBlock&quot;],&quot;text&quot;:[0,&quot;Funciona? Nope. Pero en un principio tampoco, as铆 que, no hay problema.\n&quot;]}],[0,{&quot;type&quot;:[0,&quot;MarkdownBlock&quot;],&quot;text&quot;:[0,&quot;Lo interesante es que pas贸 de 612 l铆neas de c贸digo a 276 . Redujo el c贸digo un 55%.\n&quot;]}],[0,{&quot;type&quot;:[0,&quot;MarkdownBlock&quot;],&quot;text&quot;:[0,&quot;- Muchas funciones que no entendi贸 se las  comi贸 (las dej贸 en *TODO: ...*).\n- Se invent贸 interfaces (no reutiliz贸 tipados).\n- Muchos refs (no hizo mucho caso a utilizar React en vez del DOM).\n- Algunos let que podr铆an ser const. \n- No tom贸 en cuenta algunos servicios existentes (imagino que por usar sus interfaces).&quot;]}],[0,{&quot;type&quot;:[0,&quot;MarkdownBlock&quot;],&quot;text&quot;:[0,&quot;Lo m谩s raro que encontr茅 fue:\n```tsx\nconst [filter, setFilter] = useState&lt;string | null&gt;(null);\n// ...\nconst loadProduct = (filter: { type: string; val: string }) =&gt; {\n  setFilter(filter.val);\n};\n// ...\n&lt;select\n  className=\&quot;form-control\&quot;\n  onChange={loadProduct}\n  ref={selectBrandsRef}\n  aria-describedby=\&quot;brands\&quot;\n/&gt;\n```&quot;]}],[0,{&quot;type&quot;:[0,&quot;MarkdownBlock&quot;],&quot;text&quot;:[0,&quot;Lo c贸mico es que es elemento no carga productos, ni los filtra. Del estado solo se usa el `setFilter`. Los productos se cargan una vez, ese elemento es para filtrar el inventario.&quot;]}],[0,{&quot;type&quot;:[0,&quot;MarkdownBlock&quot;],&quot;text&quot;:[0,&quot;Cosas raras, pero... lo hizo bastante limpio.&quot;]}],[0,{&quot;type&quot;:[0,&quot;MarkdownBlock&quot;],&quot;text&quot;:[0,&quot;# Conclusi贸n (113 l铆neas de c贸digo)&quot;]}],[0,{&quot;type&quot;:[0,&quot;MarkdownBlock&quot;],&quot;text&quot;:[0,&quot;Despu茅s de hacer que el c贸digo funcione, subi贸 de 276 a 462 l铆neas. Por 煤ltimo, luego de su code splitting como Dios manda, pas贸 a 113.&quot;]}],[0,{&quot;type&quot;:[0,&quot;MarkdownBlock&quot;],&quot;text&quot;:[0,&quot;Hay muchas cosas que copilot hace que no entiendo, pero es muy divertido ver las desgracias que genera.&quot;]}],[0,{&quot;type&quot;:[0,&quot;MarkdownBlock&quot;],&quot;text&quot;:[0,&quot;De cualquier forma se siente la ayuda que ofrece, es como encari帽arse de una bicicleta sin frenos. Va quitar trabajos? Nope, es un idiota... pero es mi idiota.&quot;]}]]],&quot;slugUrl&quot;:[0,&quot;copilot-al-lmite&quot;]}]}" ssr client="load" opts="{&quot;name&quot;:&quot;PostView&quot;,&quot;value&quot;:true}" await-children><div class="flex-1 flex gap-8 flex-col w-full mx-auto p-2"><div class="flex flex-col gap-2"><div class="flex justify-between"><div class="text-neutral-400 text-xs">Febrero 26, 2024</div><p class="text-neutral-400 text-xs flex gap-1">1 minuto de lectura </p></div><h1>Copilot al l铆mite</h1><!----><div class="flex gap-2 text-sm"><!--[--><div class="flex gap-1"><a class="text-neutral-400 nounderline hover:underline hover:text-white" href="/blog/?c=tech"> #tech</a><!----></div><!--]--><!----></div><!----></div><div class="font-sans mb-[-0.5rem]"><h2 class="mb-3">ndice:</h2><div><!----><ul><!--[--><li><a href="/blog/copilot-al-lmite/#cdigo-deprecado-612-lneas-de-cdigo" class="flex w-fit no-underline hover:underline cursor-pointer mb-2" title="C贸digo deprecado (612 l铆neas de c贸digo)"><p>C贸digo deprecado (612 l铆neas de c贸digo)</p>
</a><!----></li><li><a href="/blog/copilot-al-lmite/#copilot" class="flex w-fit no-underline hover:underline cursor-pointer mb-2" title="Copilot"><p>Copilot</p>
</a><!----></li><li><a href="/blog/copilot-al-lmite/#resultados-276-lneas-de-cdigo" class="flex w-fit no-underline hover:underline cursor-pointer mb-2" title="Resultados (276 l铆neas de c贸digo )"><p>Resultados (276 l铆neas de c贸digo )</p>
</a><!----></li><li><a href="/blog/copilot-al-lmite/#conclusin-113-lneas-de-cdigo" class="flex w-fit no-underline hover:underline cursor-pointer mb-2" title="Conclusi贸n (113 l铆neas de c贸digo)"><p>Conclusi贸n (113 l铆neas de c贸digo)</p>
</a><!----></li><!--]--></ul></div></div><hr><div class="flex flex-col justify-center gap-6 w-full"><!--[--><div class="relative flex flex-col justify-center w-full"><div class="flex w-full justify-between text-lg" slugurl="copilot-al-lmite"><div class="font-sans w-full"><p>Acabo de recibir un recibo m谩s de Github Copilot ($10/mes ). Siempre digo que lo voy a desactivar porque no lo uso mucho, pero, su comodidad hace que me olvide...</p>
</div></div><!----></div><div class="relative flex flex-col justify-center w-full"><div class="w-full flex flex-col" slugurl="copilot-al-lmite"><!----><div class="relative flex place-items-center bg-black bg-opacity-30"><img loading="lazy" class="m-auto w-auto h-80 object-cover" src="https://media.giphy.com/media/7rJE4vH3ItKDu/giphy.gif" alt="gif-block"><div class="absolute top-0 left-0 right-0 bottom-0 bg-[#333a]"></div><div class="flex absolute w-full h-full"><p class="font-sans m-auto p-4 text-center text-2xl font-bold">Copilot</p></div></div><!----></div><!----></div><div class="relative flex flex-col justify-center w-full"><div class="flex w-full justify-between text-lg" slugurl="copilot-al-lmite"><div class="font-sans w-full"><p><em>GitHub Copilot es una herramienta de programaci贸n que utiliza inteligencia artificial para sugerir y completar c贸digo autom谩ticamente.</em></p>
</div></div><!----></div><div class="relative flex flex-col justify-center w-full"><div class="flex w-full justify-between text-lg" slugurl="copilot-al-lmite"><div class="font-sans w-full"><p>Hoy vengo a poner a prueba sus poderes. Puntualmente en la refactorizaci贸n de 612 l铆neas de c贸digo escritas en React con JavaScript, para ser transformado en un componente funcional con TypeScript.</p>
</div></div><!----></div><div class="relative flex flex-col justify-center w-full"><div class="flex w-full justify-between text-lg" slugurl="copilot-al-lmite"><div class="font-sans w-full"><p><em>Spoiler: Termina con 113 l铆neas de c贸digo.</em></p>
</div></div><!----></div><div class="relative flex flex-col justify-center w-full"><div class="flex w-full justify-between text-lg" slugurl="copilot-al-lmite"><div class="font-sans w-full"><p>El c贸digo no es presumible (code smell, redundancia, class components ぎ) y mi trabajo es revivirlo. Podr铆a decirse que s茅 muy bien como repararlo (yo lo escrib铆 ぁ). Sin embargo, ya que me duele mucho pagar por Copilot, lo dejar茅 en sus manos.</p>
</div></div><!----></div><div class="relative flex flex-col justify-center w-full"><div class="flex w-full justify-between text-lg" slugurl="copilot-al-lmite"><div class="font-sans w-full"><hundefined class="font-mono" id="cdigo-deprecado-612-lneas-de-cdigo">[object Object]</hundefined></div></div><!----></div><div class="relative flex flex-col justify-center w-full"><div class="flex w-full justify-between text-lg" slugurl="copilot-al-lmite"><div class="font-sans w-full"><p>En el c贸digo se pueden encontrar cosas como:</p>
<pre><code class="hljs language-ts"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> product <span class="hljs-keyword">of</span> customer.<span class="hljs-property">products</span>) {
  <span class="hljs-keyword">let</span> brand = product.<span class="hljs-property">brand</span>;
  <span class="hljs-keyword">let</span> option = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&quot;option&quot;</span>);
  option.<span class="hljs-title function_">appendChild</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createTextNode</span>(brand));
  option.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">&quot;brand&quot;</span>, brand);
  select_product.<span class="hljs-title function_">appendChild</span>(option);
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">brands</span>[brand] = idx;
  idx++;
}
</code></pre></div></div><!----></div><div class="relative flex flex-col justify-center w-full"><div class="flex w-full justify-between text-lg" slugurl="copilot-al-lmite"><div class="font-sans w-full"><p>No luce mal, fuera de que con react no tiene sentido hacer las cosas de esta forma. Hay muchas malas decisiones tomadas, por ejemplo, que solo se consideran happy paths.</p>
</div></div><!----></div><div class="relative flex flex-col justify-center w-full"><div class="flex w-full justify-between text-lg" slugurl="copilot-al-lmite"><div class="font-sans w-full"><p>Se pueden encontrar atrocidades como:</p>
<pre><code class="hljs language-ts"><span class="hljs-variable language_">this</span>.<span class="hljs-property">statusBar</span>.<span class="hljs-property">current</span>.<span class="hljs-property">style</span>.<span class="hljs-property">display</span> = <span class="hljs-string">&quot;block&quot;</span>;
<span class="hljs-variable language_">this</span>.<span class="hljs-property">statusBar</span>.<span class="hljs-property">current</span>.<span class="hljs-property">innerText</span> = <span class="hljs-string">&quot;Cargando datos&quot;</span>;
</code></pre></div></div><!----></div><div class="relative flex flex-col justify-center w-full"><div class="flex w-full justify-between text-lg" slugurl="copilot-al-lmite"><div class="font-sans w-full"><p>O estas (esto lo hace en la funci贸n de un componente):</p>
<pre><code class="hljs language-ts"><span class="hljs-keyword">const</span> customer = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">db</span>.<span class="hljs-title function_">collection</span>(<span class="hljs-string">&quot;customer&quot;</span>).<span class="hljs-title function_">findOne</span>({
  <span class="hljs-attr">stitch_td_uid</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">client</span>.<span class="hljs-property">auth</span>.<span class="hljs-property">user</span>.<span class="hljs-property">id</span>,
});
</code></pre></div></div><!----></div><div class="relative flex flex-col justify-center w-full"><div class="flex w-full justify-between text-lg" slugurl="copilot-al-lmite"><div class="font-sans w-full"><p>5mentarios:</p>
<pre><code class="hljs language-ts"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = i + <span class="hljs-number">1</span>; j &lt; indexes.<span class="hljs-property">length</span>; j++) {
  <span class="hljs-keyword">if</span> (idx &lt; indexes[j]) {
    indexes[j]--;
  }
}
</code></pre></div></div><!----></div><div class="relative flex flex-col justify-center w-full"><div class="flex w-full justify-between text-lg" slugurl="copilot-al-lmite"><div class="font-sans w-full"><hundefined class="font-mono" id="copilot">[object Object]</hundefined></div></div><!----></div><div class="relative flex flex-col justify-center w-full"><div class="flex w-full justify-between text-lg" slugurl="copilot-al-lmite"><div class="font-sans w-full"><p>Prompt: <em>&quot;Refactor this class component written in jsx to a functional component with typescript. Rename as many variables as you can to cammelcase. If you see that updates are made to the DOM with the document object, transform it into the equivalent using React.&quot;</em></p>
</div></div><!----></div><div class="relative flex flex-col justify-center w-full"><div class="flex w-full justify-between text-lg" slugurl="copilot-al-lmite"><div class="font-sans w-full"><hundefined class="font-mono" id="resultados-276-lneas-de-cdigo">[object Object]</hundefined></div></div><!----></div><div class="relative flex flex-col justify-center w-full"><div class="flex w-full justify-between text-lg" slugurl="copilot-al-lmite"><div class="font-sans w-full"><p>Funciona? Nope. Pero en un principio tampoco, as铆 que, no hay problema.</p>
</div></div><!----></div><div class="relative flex flex-col justify-center w-full"><div class="flex w-full justify-between text-lg" slugurl="copilot-al-lmite"><div class="font-sans w-full"><p>Lo interesante es que pas贸 de 612 l铆neas de c贸digo a 276 . Redujo el c贸digo un 55%.</p>
</div></div><!----></div><div class="relative flex flex-col justify-center w-full"><div class="flex w-full justify-between text-lg" slugurl="copilot-al-lmite"><div class="font-sans w-full"><ul>
<li>Muchas funciones que no entendi贸 se las  comi贸 (las dej贸 en <em>TODO: ...</em>).</li>
<li>Se invent贸 interfaces (no reutiliz贸 tipados).</li>
<li>Muchos refs (no hizo mucho caso a utilizar React en vez del DOM).</li>
<li>Algunos let que podr铆an ser const. </li>
<li>No tom贸 en cuenta algunos servicios existentes (imagino que por usar sus interfaces).</li>
</ul>
</div></div><!----></div><div class="relative flex flex-col justify-center w-full"><div class="flex w-full justify-between text-lg" slugurl="copilot-al-lmite"><div class="font-sans w-full"><p>Lo m谩s raro que encontr茅 fue:</p>
<pre><code class="hljs language-tsx"><span class="hljs-keyword">const</span> [filter, setFilter] = useState&lt;<span class="hljs-built_in">string</span> | <span class="hljs-literal">null</span>&gt;(<span class="hljs-literal">null</span>);
<span class="hljs-comment">// ...</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">loadProduct</span> = (<span class="hljs-params"><span class="hljs-attr">filter</span>: { <span class="hljs-keyword">type</span>: <span class="hljs-built_in">string</span>; val: <span class="hljs-built_in">string</span> }</span>) =&gt; {
  <span class="hljs-title function_">setFilter</span>(filter.<span class="hljs-property">val</span>);
};
<span class="hljs-comment">// ...</span>
<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">select</span>
  <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;form-control&quot;</span>
  <span class="hljs-attr">onChange</span>=<span class="hljs-string">{loadProduct}</span>
  <span class="hljs-attr">ref</span>=<span class="hljs-string">{selectBrandsRef}</span>
  <span class="hljs-attr">aria-describedby</span>=<span class="hljs-string">&quot;brands&quot;</span>
/&gt;</span></span>
</code></pre></div></div><!----></div><div class="relative flex flex-col justify-center w-full"><div class="flex w-full justify-between text-lg" slugurl="copilot-al-lmite"><div class="font-sans w-full"><p>Lo c贸mico es que es elemento no carga productos, ni los filtra. Del estado solo se usa el <code>setFilter</code>. Los productos se cargan una vez, ese elemento es para filtrar el inventario.</p>
</div></div><!----></div><div class="relative flex flex-col justify-center w-full"><div class="flex w-full justify-between text-lg" slugurl="copilot-al-lmite"><div class="font-sans w-full"><p>Cosas raras, pero... lo hizo bastante limpio.</p>
</div></div><!----></div><div class="relative flex flex-col justify-center w-full"><div class="flex w-full justify-between text-lg" slugurl="copilot-al-lmite"><div class="font-sans w-full"><hundefined class="font-mono" id="conclusin-113-lneas-de-cdigo">[object Object]</hundefined></div></div><!----></div><div class="relative flex flex-col justify-center w-full"><div class="flex w-full justify-between text-lg" slugurl="copilot-al-lmite"><div class="font-sans w-full"><p>Despu茅s de hacer que el c贸digo funcione, subi贸 de 276 a 462 l铆neas. Por 煤ltimo, luego de su code splitting como Dios manda, pas贸 a 113.</p>
</div></div><!----></div><div class="relative flex flex-col justify-center w-full"><div class="flex w-full justify-between text-lg" slugurl="copilot-al-lmite"><div class="font-sans w-full"><p>Hay muchas cosas que copilot hace que no entiendo, pero es muy divertido ver las desgracias que genera.</p>
</div></div><!----></div><div class="relative flex flex-col justify-center w-full"><div class="flex w-full justify-between text-lg" slugurl="copilot-al-lmite"><div class="font-sans w-full"><p>De cualquier forma se siente la ayuda que ofrece, es como encari帽arse de una bicicleta sin frenos. Va quitar trabajos? Nope, es un idiota... pero es mi idiota.</p>
</div></div><!----></div><!--]--></div></div><!--astro:end--></astro-island>  <footer class="flex flex-col gap-4 px-2 py-8 mt-8 border-t border-neutral-500 w-full text-neutral-500 text-xs print:hidden"> <div class="flex whitespace-nowrap"> <div class="flex-1 flex flex-col gap-1"> <!-- <p class="pl-2">Left</p> --> <ul class="flex flex-col gap-1"> <li> <a class="hover:text-white" href="/"> Inicio </a> </li><li> <a class="hover:text-white" href="/blog"> Blog </a> </li> </ul> </div> <div class="flex-1 flex flex-col gap-1 ml-auto text-right"> <!-- <p class="pr-2">Rright</p> --> <ul class="flex flex-col gap-1 text-right [direction:rtl]"> <li> <a class="hover:text-white" href="/blog/sobre-mi"> Sobre mi </a> </li> </ul> </div> </div> <div class="flex justify-between w-full"> <p> <!-- First post: /blog/sobre-mi -->
&copy; 2018.
<a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/" class="hover:text-white">CC BY-SA 4.0</a> </p> </div> </footer> </div>  </body></html>