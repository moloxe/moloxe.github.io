import{u as t}from"./jsxRuntime.module.3hPXG6Fr.js";import{A as C,d as m,y as v}from"./hooks.module.WNmjjaza.js";import{k as N}from"./preact.module.D9mvYqus.js";function I(e){return e=Math.max(0,Math.min(1,e)),.5*(1-Math.cos(Math.PI*e))}const j=({title:e})=>{const n=C(null),[c,f]=m(!1);function i(){if(f(!0),!n.current){alert("Lo rompiste pndj ðŸ’€");return}const{top:s,left:l,width:h,height:a}=n.current.getBoundingClientRect(),o=(window.innerWidth-h)*Math.random(),d=(window.innerHeight-a)*Math.random(),y=Math.sqrt((o-l)**2+(d-s)**2);let g=0,p=0;const b=u=>{p===0&&(g=u,p=u+y);let r=(u-g)/(p-g);if(r=I(r),!n.current){alert("Lo rompiste pndj ðŸ’€");return}n.current.style.top=`${s*(1-r)+d*r}px`,n.current.style.left=`${l*(1-r)+o*r}px`,u<p&&window.requestAnimationFrame(b)};window.requestAnimationFrame(b)}return t("button",{ref:n,onClick:i,className:`
        ${c?"absolute":""}
        bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500
        rounded-lg px-4 py-2 text-lg
      `,children:e})};function k(){const e=document.createElement("script");e.src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js",document.head.appendChild(e)}function w(){confetti({particleCount:100,spread:70,origin:{y:.6}})}const x="bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 rounded-lg px-4 py-2 text-lg",U=()=>{const[e,n]=m(""),[c,f]=m(""),[i,s]=m(!1);function l(){const o=btoa(encodeURIComponent(c||"Say yes!"));window.location.href=`${window.location.pathname}?q=${encodeURIComponent(o)}`}function h(){i||(s(!0),w(),setInterval(w,2e3))}return v(()=>{const o=new URLSearchParams(window.location.search).get("q");if(o){const d=decodeURIComponent(atob(o));n(d)}k()},[]),t("div",{className:"relative p-4 flex-1 flex flex-col gap-8 justify-center items-center",children:[i&&t("div",{className:"grid grid-cols-2 h-[20rem]",children:[t("img",{className:"h-full w-auto object-cover",src:"https://i.giphy.com/K3Sbp8fOgKye4.webp",alt:"lisa dancing"}),t("img",{className:"h-full w-auto object-cover",src:"https://i.giphy.com/blSTtZehjAZ8I.webp",alt:"kid dancing"})]}),!i&&e&&t(N,{children:[t("h1",{className:"font-extrabold text-2xl",children:e}),t("div",{className:"grid grid-cols-2 gap-4",children:[t("button",{onClick:h,className:`${x} animate-bounce`,children:"Yes"}),t(j,{title:"No"})]})]}),!i&&!e&&t("div",{className:"flex gap-4",children:[t("input",{className:"px-2 rounded",placeholder:"Write something...",type:"text",value:c,onChange:({currentTarget:{value:a}})=>f(a)}),t("button",{onClick:l,className:x,children:"Go"})]})]})};export{U as default};
