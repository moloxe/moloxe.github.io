function l(n){const t=n.canvas;t.style.cursor="grab";let o=!1,c,r;document.addEventListener("mousedown",a=>{o=!0,c=a.clientX,r=a.clientY,t.style.cursor="grabbing"}),document.addEventListener("mousemove",a=>{o&&(n.camera.spherical.theta+=3*(c-a.clientX)/window.innerWidth,n.camera.spherical.phi+=3*(r-a.clientY)/window.innerHeight,c=a.clientX,r=a.clientY)}),document.addEventListener("mouseup",()=>{o=!1,t.style.cursor="grab"}),document.addEventListener("wheel",a=>{n.camera.spherical.radius+=a.deltaY*.01});const e=[0,0,0],s=.002;d(a=>{const i=n.camera.spherical.theta;a.UP&&(e[1]+=s),a.DOWN&&(e[1]-=s),a.FRONT&&(e[0]-=s*Math.sin(i),e[2]-=s*Math.cos(i)),a.BACK&&(e[0]+=s*Math.sin(i),e[2]+=s*Math.cos(i)),a.LEFT&&(e[0]-=s*Math.cos(i),e[2]+=s*Math.sin(i)),a.RIGHT&&(e[0]+=s*Math.cos(i),e[2]-=s*Math.sin(i)),n.camera.pos.x+=e[0],n.camera.pos.y+=e[1],n.camera.pos.z+=e[2],e[0]*=.9,e[1]*=.9,e[2]*=.9})}function d(n){const t={};window.addEventListener("keydown",c=>{c.preventDefault(),t[c.code]=!0}),window.addEventListener("keyup",c=>{c.preventDefault(),t[c.code]=!1});function o(){n({UP:t.Space,DOWN:t.MetaLeft||t.ControlLeft,FRONT:t.KeyW,BACK:t.KeyS,LEFT:t.KeyA,RIGHT:t.KeyD}),requestAnimationFrame(o)}o()}export{l as f};
