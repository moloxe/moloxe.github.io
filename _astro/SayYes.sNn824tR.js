import{j as t}from"./jsx-runtime.ClP7wGfN.js";import{r}from"./index.DK-fsZOb.js";function y(e){return e=Math.max(0,Math.min(1,e)),.5*(1-Math.cos(Math.PI*e))}const C=({title:e})=>{const n=r.useRef(null),[c,f]=r.useState(!1);function s(){if(f(!0),!n.current){alert("Lo rompiste pndj ðŸ’€");return}const{top:l,left:d,width:h,height:a}=n.current.getBoundingClientRect(),o=(window.innerWidth-h)*Math.random(),u=(window.innerHeight-a)*Math.random(),w=Math.sqrt((o-d)**2+(u-l)**2);let g=0,p=0;const x=m=>{p===0&&(g=m,p=m+w);let i=(m-g)/(p-g);if(i=y(i),!n.current){alert("Lo rompiste pndj ðŸ’€");return}n.current.style.top=`${l*(1-i)+u*i}px`,n.current.style.left=`${d*(1-i)+o*i}px`,m<p&&window.requestAnimationFrame(x)};window.requestAnimationFrame(x)}return t.jsx("button",{ref:n,onClick:s,className:`
        ${c?"absolute":""}
        bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500
        rounded-lg px-4 py-2 text-lg
      `,children:e})};function v(){const e=document.createElement("script");e.src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js",document.head.appendChild(e)}function j(){confetti({particleCount:100,spread:70,origin:{y:.6}})}const b="bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 rounded-lg px-4 py-2 text-lg",I=()=>{const[e,n]=r.useState(""),[c,f]=r.useState(""),[s,l]=r.useState(!1);function d(){const o=btoa(encodeURIComponent(c||"Say yes!"));window.location.href=`${window.location.pathname}?q=${encodeURIComponent(o)}`}function h(){s||(l(!0),j(),setInterval(j,2e3))}return r.useEffect(()=>{const o=new URLSearchParams(window.location.search).get("q");if(o){const u=decodeURIComponent(atob(o));n(u)}v()},[]),t.jsxs("div",{className:"relative p-4 flex-1 flex flex-col gap-8 justify-center items-center",children:[s&&t.jsxs("div",{className:"grid grid-cols-2 h-[20rem]",children:[t.jsx("img",{className:"h-full w-auto object-cover",src:"https://i.giphy.com/K3Sbp8fOgKye4.webp",alt:"lisa dancing"}),t.jsx("img",{className:"h-full w-auto object-cover",src:"https://i.giphy.com/blSTtZehjAZ8I.webp",alt:"kid dancing"})]}),!s&&e&&t.jsxs(t.Fragment,{children:[t.jsx("h1",{className:"font-extrabold text-2xl",children:e}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsx("button",{onClick:h,className:`${b} animate-bounce`,children:"Yes"}),t.jsx(C,{title:"No"})]})]}),!s&&!e&&t.jsxs("div",{className:"flex gap-4",children:[t.jsx("input",{className:"px-2 rounded",placeholder:"Write something...",type:"text",value:c,onChange:({currentTarget:{value:a}})=>f(a)}),t.jsx("button",{onClick:d,className:b,children:"Go"})]})]})};export{I as default};
