import{v as k,w as F}from"./runtime-dom.esm-bundler.urVbkz5X.js";import{G as _,a as h}from"./utils.BrNRF5Ls.js";import{_ as w}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{d as B,c as a,o as i,w as v,a as p,b as u,t as M,F as U,B as C,E as A,r as y,G,e as P,H as j}from"./runtime-core.esm-bundler.m-8sdNnM.js";const z=B({__name:"GiphyBlock",props:{editMode:{type:Boolean},block:{}},setup(m,{expose:r}){r();const t=m,e=y(x()),n=y(""),d=y([]),o=G(()=>e.value!==""&&typeof e.value=="string"),c=G({get(){return _.getQuoteFromGiphyBlock(t.block.text)??""},set(s){const l=_.getIdFromGiphyBlock(t.block.text);t.block.text=_.formatGiphyBlock(l,s)}});async function f(){const s=n.value,l=[],S=await h.searchGifs(s,navigator.language);for(const b of S){const q=b?.images?.fixed_height?.url;l.push({id:b?.id,url:q})}d.value=l}function D(s,l){l||(l=h.getGifById(s)),e.value=l,t.block.text=_.formatGiphyBlock(s,c.value)}function x(){const s=_.getIdFromGiphyBlock(t.block.text);return h.getGifById(s)}P(()=>{t.editMode&&f()}),j(()=>t.editMode,s=>{s&&f()});const g={props:t,url:e,currentQuery:n,samples:d,existUrl:o,quote:c,searchGifsAction:f,loadGif:D,getFirstGifLoad:x};return Object.defineProperty(g,"__isScriptSetup",{enumerable:!1,value:!0}),g}}),I={key:1,class:"relative flex place-items-center bg-black bg-opacity-30"},Q=["src"],V={key:0,class:"absolute top-0 left-0 right-0 bottom-0 bg-[#333a]"},E={key:1,class:"flex absolute w-full h-full"},N={class:"font-sans m-auto p-4 text-center text-2xl font-bold"},O={key:2,class:"flex flex-col w-full"},J={class:"flex w-full h-10"},K={class:"flex overflow-x-scroll h-[10rem]"},L={class:"flex"},H=["src","onClick"];function T(m,r,t,e,n,d){return i(),a("div",{class:A(`w-full flex flex-col ${t.editMode?"edit-block":""}`)},[t.editMode?v((i(),a("input",{key:0,"onUpdate:modelValue":r[0]||(r[0]=o=>e.quote=o),type:"text",class:"flex-1 p-2 w-full",placeholder:"Write something...","aria-label":"gif quote input"},null,512)),[[k,e.quote]]):p("",!0),e.existUrl?(i(),a("div",I,[u("img",{loading:"lazy",class:"m-auto w-auto h-80 object-cover",src:e.url,alt:"gif-block"},null,8,Q),e.quote&&e.existUrl?(i(),a("div",V)):p("",!0),e.quote&&e.existUrl?(i(),a("div",E,[u("p",N,M(e.quote),1)])):p("",!0)])):p("",!0),t.editMode?(i(),a("div",O,[u("div",J,[v(u("input",{"onUpdate:modelValue":r[1]||(r[1]=o=>e.currentQuery=o),type:"text",placeholder:"Search gif (Giphy)","aria-label":"gifs search input",class:"flex-1 px-3",onKeydown:F(e.searchGifsAction,["enter"])},null,544),[[k,e.currentQuery]]),u("button",{class:"bg-primary p-0 w-10",onClick:e.searchGifsAction}," ðŸ” ")]),u("div",K,[u("div",L,[(i(!0),a(U,null,C(e.samples,({id:o,url:c})=>(i(),a("img",{key:o,src:c,class:"block w-[10rem] h-auto object-cover cursor-pointer",loading:"lazy",onClick:f=>e.loadGif(o,c)},null,8,H))),128))])])])):p("",!0)],2)}const te=w(z,[["render",T]]),W=B({__name:"PostDate",props:{creationDate:{}},setup(m,{expose:r}){r();function t(n){const d=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],o=n.getDate(),c=d[n.getMonth()],f=n.getFullYear();return`${c} ${o}, ${f}`}const e={parseDate:t};return Object.defineProperty(e,"__isScriptSetup",{enumerable:!1,value:!0}),e}}),Y={class:"text-neutral-400 text-xs"};function R(m,r,t,e,n,d){return i(),a("div",Y,M(e.parseDate(t.creationDate)),1)}const oe=w(W,[["render",R]]);export{te as G,oe as P};
