import{v as m,w as v}from"./runtime-dom.esm-bundler.urVbkz5X.js";import{P as w}from"./posts.DfVrs65y.js";import{_ as h}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{d as x,c as r,a as f,b as t,w as y,t as P,F as k,r as n,o as i}from"./runtime-core.esm-bundler.m-8sdNnM.js";import"./utils.BrNRF5Ls.js";const M=x({__name:"CreatePostModal",setup(g,{expose:o}){o();const s=n(!1),e=n(""),a=n(""),l=n(!1);function c(){a.value="",s.value=!0}function _(){a.value="",s.value=!1}async function b(){l.value=!0;const p=e.value;e.value="";try{const d=await w.createPost(p);window.location.href=`/blog/${d}`,_()}catch(d){a.value=String(d)}finally{l.value=!1}}const u={show:s,newPostTitle:e,errorMessage:a,loadingState:l,openModal:c,closeModal:_,createPost:b};return Object.defineProperty(u,"__isScriptSetup",{enumerable:!1,value:!0}),u}}),S={key:0,class:"fixed z-10 flex top-0 bottom-0 right-0 left-0"},C={class:"flex flex-col gap-2 z-30 p-4 m-auto max-w-md bg-neutral-900 rounded"},T={class:"flex gap-2 flex-nowrap"},B=["disabled"],N=["disabled"],V=["disabled"],z={key:0,class:"bg-red-700 text-white"},D={key:1};function F(g,o,s,e,a,l){return i(),r(k,null,[e.show?(i(),r("div",S,[t("div",{class:"absolute flex top-0 bottom-0 right-0 left-0 bg-black bg-opacity-80",onClick:e.closeModal}),t("div",C,[o[1]||(o[1]=t("h1",{class:"title"},"Create post",-1)),t("div",T,[y(t("input",{class:"grow-[6]",placeholder:"Title...","onUpdate:modelValue":o[0]||(o[0]=c=>e.newPostTitle=c),disabled:e.loadingState,type:"text",required:"",onKeydown:v(e.createPost,["enter"])},null,40,B),[[m,e.newPostTitle]]),t("button",{disabled:e.loadingState,onClick:e.createPost,title:"create"}," ✅ ",8,N),t("button",{disabled:e.loadingState,onClick:e.closeModal,title:"cancel"}," ❌ ",8,V)]),e.errorMessage?(i(),r("div",z,P(e.errorMessage),1)):f("",!0),e.loadingState?(i(),r("p",D,"Loading...")):f("",!0)])])):f("",!0),t("button",{class:"bg-white text-black absolute right-0 opacity-50",onClick:e.openModal}," New post ")],64)}const L=h(M,[["render",F]]);export{L as default};
